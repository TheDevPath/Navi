{"version":3,"sources":["webpack:///5.chunk.213a2.js","webpack:///./routes/settings/style.css","webpack:///./components/AccountForm/style.css","webpack:///../node_modules/linkstate/dist/linkstate.es.js","webpack:///./components/AccountForm/index.js","webpack:///./routes/settings/index.js"],"names":["webpackJsonp","5Oj0","module","exports","register","logo","main","93k0","inherit","display","form","formChild","formChildReset","strike","link2","regBtn","opUN","__webpack_exports__","__webpack_require__","dlv","obj","key","def","p","split","length","undefined","linkState","component","eventPath","path","cache","__lsc","e","t","target","this","state","v","nodeName","type","match","checked","value","i","setState","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","preact_min","style","style_default","n","validate_account_form","config","linkstate_es","preact_router_es","d","AccountForm_AccountForm","_ref3","_ref4","href","_ref5","_ref6","_Component","AccountForm","_this","handleSubmit","event","preventDefault","formData","name","email","password","new_password","confirm_password","args","props","then","response","console","log","status","alert","message","route","catch","error","componentWillUnmount","routeToRegister","bind","render","_ref","_ref2","class","a","onSubmit","id","placeholder","onInput","required","className","join","onClick","src","alt","qIAH","defineProperty","Settings","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1__style__","__WEBPACK_IMPORTED_MODULE_1__style___default","apply","arguments"],"mappings":"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","file":"5.chunk.213a2.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ \"5Oj0\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"register\":\"register__10ihI\",\"logo\":\"logo__gmSNK\",\"main\":\"main__1YEin\"};\n\n/***/ }),\n\n/***/ \"93k0\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"inherit\":\"inherit__eHCdh\",\"display\":\"display__2l107\",\"logo\":\"logo__2qJtn\",\"form\":\"form__sLEuc\",\"formChild\":\"formChild__27DqH\",\"formChildReset\":\"formChildReset__3dE5v\",\"strike\":\"strike__1Lw-F\",\"link2\":\"link2__YXP6T\",\"regBtn\":\"regBtn__17kEI\"};\n\n/***/ }),\n\n/***/ \"opUN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./components/AccountForm/style.css\nvar style = __webpack_require__(\"93k0\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: ./js/validate-account-form.js\nvar validate_account_form = __webpack_require__(\"hYMD\");\n\n// EXTERNAL MODULE: ../config/index.js\nvar config = __webpack_require__(\"Qpw7\");\nvar config_default = /*#__PURE__*/__webpack_require__.n(config);\n\n// CONCATENATED MODULE: ../node_modules/linkstate/dist/linkstate.es.js\nfunction dlv(obj, key, def, p) {\n\tp = 0;\n\tkey = key.split ? key.split('.') : key;\n\twhile (obj && p < key.length) {\n\t\tobj = obj[key[p++]];\n\t}\n\treturn obj === undefined ? def : obj;\n}\n\n/** Create an Event handler function that sets a given state property.\n *\t@param {Component} component\tThe component whose state should be updated\n *\t@param {string} key\t\t\t\tA dot-notated key path to update in the component's state\n *\t@param {string} eventPath\t\tA dot-notated key path to the value that should be retrieved from the Event or component\n *\t@returns {function} linkedStateHandler\n */\nfunction linkState(component, key, eventPath) {\n\tvar path = key.split('.'),\n\t    cache = component.__lsc || (component.__lsc = {});\n\n\treturn cache[key + eventPath] || (cache[key + eventPath] = function (e) {\n\t\tvar t = e && e.target || this,\n\t\t    state = {},\n\t\t    obj = state,\n\t\t    v = typeof eventPath === 'string' ? dlv(e, eventPath) : t.nodeName ? t.type.match(/^che|rad/) ? t.checked : t.value : e,\n\t\t    i = 0;\n\t\tfor (; i < path.length - 1; i++) {\n\t\t\tobj = obj[path[i]] || (obj[path[i]] = !i && component.state[path[i]] || {});\n\t\t}\n\t\tobj[path[i]] = v;\n\t\tcomponent.setState(state);\n\t});\n}\n\n/* harmony default export */ var linkstate_es = (linkState);\n//# sourceMappingURL=linkstate.es.js.map\n// EXTERNAL MODULE: ../node_modules/preact-router/dist/preact-router.es.js\nvar preact_router_es = __webpack_require__(\"/QC5\");\n\n// CONCATENATED MODULE: ./components/AccountForm/index.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AccountForm_AccountForm; });\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\nvar _ref3 = Object(preact_min[\"h\"])(\n  'span',\n  null,\n  'OR'\n);\n\nvar _ref4 = Object(preact_min[\"h\"])(\n  'a',\n  { href: '/forgot-password' },\n  'forgot password?'\n);\n\nvar _ref5 = Object(preact_min[\"h\"])(\n  'p',\n  null,\n  'To change user info:'\n);\n\nvar _ref6 = Object(preact_min[\"h\"])(\n  'p',\n  null,\n  'To change password:'\n);\n\nvar AccountForm_AccountForm = function (_Component) {\n  _inherits(AccountForm, _Component);\n\n  function AccountForm() {\n    _classCallCheck(this, AccountForm);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this));\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      var formData = {\n        name: _this.state.name,\n        email: _this.state.email,\n        password: _this.state.password,\n        new_password: _this.state.new_password,\n        confirm_password: _this.state.confirm_password\n      };\n\n      var args = {\n        path: _this.props.path,\n        formData: formData\n      };\n\n      Object(validate_account_form[\"d\" /* validateAccountForm */])(args).then(function (response) {\n        console.log('validateAccountForm(): ', response);\n        if (response.status) {\n          if (_this.props.path === config[\"RESET_PATH\"]) {\n            alert(response.message);\n          } else {\n            // redirect to /profile with success for login/registration\n            Object(preact_router_es[\"route\"])('/profile', true);\n          }\n        } else {\n          // TODO - alert failure to process\n          alert(response.message);\n        }\n      }).catch(function (error) {\n        // TODO - standardize API error output so we can handle cleanly\n        // on frontend\n        alert(error);\n      });\n    };\n\n    _this.componentWillUnmount = function () {\n      Object(validate_account_form[\"a\" /* clearForms */])();\n    };\n\n    _this.routeToRegister = _this.routeToRegister.bind(_this);\n    _this.handleSubmit = _this.handleSubmit.bind(_this);\n    return _this;\n  }\n\n  AccountForm.prototype.routeToRegister = function routeToRegister() {\n    Object(preact_router_es[\"route\"])(\"/register\", true);\n  };\n\n  AccountForm.prototype.render = function render(_ref, _ref2) {\n    var path = _ref.path;\n    var name = _ref2.name,\n        email = _ref2.email,\n        password = _ref2.password,\n        new_password = _ref2.new_password,\n        confirm_password = _ref2.confirm_password;\n\n\n    //DEFAULT TO LOGIN_PATH\n    var display = Object(preact_min[\"h\"])(\n      'div',\n      { 'class': style_default.a.display },\n      Object(preact_min[\"h\"])(\n        'form',\n        { 'class': style_default.a.form, onSubmit: this.handleSubmit },\n        Object(preact_min[\"h\"])('input', { 'class': style_default.a.formChild, id: 'email', name: 'email', type: 'email', placeholder: 'email address',\n          value: email, onInput: linkstate_es(this, 'email'), required: true }),\n        Object(preact_min[\"h\"])('input', { 'class': style_default.a.formChild, id: 'password', name: 'password', type: 'password', placeholder: 'password',\n          value: password, onInput: linkstate_es(this, 'password'), required: true }),\n        Object(preact_min[\"h\"])(\n          'div',\n          null,\n          Object(preact_min[\"h\"])(\n            'button',\n            { 'class': style_default.a.formChild },\n            'LOGIN'\n          )\n        )\n      ),\n      Object(preact_min[\"h\"])(\n        'div',\n        { 'class': style_default.a.form },\n        Object(preact_min[\"h\"])(\n          'div',\n          { 'class': style_default.a.strike },\n          _ref3\n        ),\n        Object(preact_min[\"h\"])(\n          'button',\n          { type: 'button', className: [style_default.a.formChild, style_default.a.regBtn].join(' '),\n            onClick: this.routeToRegister },\n          'CREATE AN ACCOUNT'\n        )\n      ),\n      Object(preact_min[\"h\"])(\n        'p',\n        { 'class': style_default.a.link2 },\n        _ref4\n      )\n    );\n\n    if (path === config[\"REGISTER_PATH\"]) {\n      display = Object(preact_min[\"h\"])(\n        'div',\n        { 'class': style_default.a.display },\n        Object(preact_min[\"h\"])(\n          'form',\n          { 'class': style_default.a.form, onSubmit: this.handleSubmit },\n          Object(preact_min[\"h\"])('input', { 'class': style_default.a.formChild, name: 'name', type: 'text', placeholder: 'Name',\n            value: name, onInput: linkstate_es(this, 'name'), required: true }),\n          Object(preact_min[\"h\"])('input', { 'class': style_default.a.formChild, id: 'email', name: 'email', type: 'email', placeholder: 'email address',\n            value: email, onInput: linkstate_es(this, 'email'), required: true }),\n          Object(preact_min[\"h\"])('input', { 'class': style_default.a.formChild, id: 'password', name: 'password', type: 'password', placeholder: 'password',\n            value: password, onInput: linkstate_es(this, 'password'), required: true }),\n          Object(preact_min[\"h\"])('input', { 'class': style_default.a.formChild, name: 'confirm_password', type: 'password', placeholder: 'confirm password',\n            value: confirm_password, onInput: linkstate_es(this, 'confirm_password'), required: true }),\n          Object(preact_min[\"h\"])(\n            'button',\n            { 'class': style_default.a.formChild },\n            'SUBMIT'\n          )\n        )\n      );\n    }\n\n    if (path === config[\"RESET_PATH\"]) {\n      display = Object(preact_min[\"h\"])(\n        'div',\n        null,\n        Object(preact_min[\"h\"])(\n          'form',\n          { 'class': style_default.a.form, onSubmit: this.handleSubmit },\n          _ref5,\n          Object(preact_min[\"h\"])('input', { 'class': style_default.a.formChildReset, name: 'name', type: 'text', placeholder: 'Enter new name',\n            value: name, onInput: linkstate_es(this, 'name') }),\n          Object(preact_min[\"h\"])('input', { 'class': style_default.a.formChildReset, id: 'email', name: 'email', type: 'email', placeholder: 'Enter new email address',\n            value: email, onInput: linkstate_es(this, 'email') }),\n          Object(preact_min[\"h\"])(\n            'button',\n            { 'class': style_default.a.formChildReset },\n            'Update Info'\n          )\n        ),\n        Object(preact_min[\"h\"])(\n          'form',\n          { 'class': style_default.a.form, onSubmit: this.handleSubmit },\n          _ref6,\n          Object(preact_min[\"h\"])('input', { 'class': style_default.a.formChildReset, id: 'password', name: 'password', type: 'password', placeholder: 'Enter current password',\n            value: password, onInput: linkstate_es(this, 'password'), required: true }),\n          Object(preact_min[\"h\"])('input', { 'class': style_default.a.formChildReset, name: 'new_password', type: 'password', placeholder: 'Enter new password',\n            value: new_password, onInput: linkstate_es(this, 'new_password'), required: true }),\n          Object(preact_min[\"h\"])('input', { 'class': style_default.a.formChildReset, name: 'confirm_password', type: 'password', placeholder: 'Confirm new password',\n            value: confirm_password, onInput: linkstate_es(this, 'confirm_password'), required: true }),\n          Object(preact_min[\"h\"])(\n            'button',\n            { 'class': style_default.a.formChildReset },\n            'Reset Password'\n          )\n        )\n      );\n    }\n    return Object(preact_min[\"h\"])(\n      'div',\n      { 'class': style_default.a.inherit },\n      Object(preact_min[\"h\"])('img', { 'class': style_default.a.logo, src: '../../assets/icons/leaflet/SVG/darkLogo.svg', alt: 'Navi logo' }),\n      display\n    );\n  };\n\n  return AccountForm;\n}(preact_min[\"Component\"]);\n\n\n\n/***/ }),\n\n/***/ \"qIAH\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Settings; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style__ = __webpack_require__(\"5Oj0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_AccountForm__ = __webpack_require__(\"opUN\");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar _ref = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'div',\n    null,\n    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'a',\n        { href: '/reset-password' },\n        'Reset password'\n    )\n);\n\nvar _ref2 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'div',\n    null,\n    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'a',\n        { href: '/signout' },\n        'Sign Out'\n    )\n);\n\nvar Settings = function (_Component) {\n    _inherits(Settings, _Component);\n\n    function Settings() {\n        _classCallCheck(this, Settings);\n\n        return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n    }\n\n    Settings.prototype.render = function render() {\n        return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'div',\n            { 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.main },\n            _ref,\n            _ref2\n        );\n    };\n\n    return Settings;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 5.chunk.213a2.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"register\":\"register__10ihI\",\"logo\":\"logo__gmSNK\",\"main\":\"main__1YEin\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/settings/style.css\n// module id = 5Oj0\n// module chunks = 5","// removed by extract-text-webpack-plugin\nmodule.exports = {\"inherit\":\"inherit__eHCdh\",\"display\":\"display__2l107\",\"logo\":\"logo__2qJtn\",\"form\":\"form__sLEuc\",\"formChild\":\"formChild__27DqH\",\"formChildReset\":\"formChildReset__3dE5v\",\"strike\":\"strike__1Lw-F\",\"link2\":\"link2__YXP6T\",\"regBtn\":\"regBtn__17kEI\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/AccountForm/style.css\n// module id = 93k0\n// module chunks = 2 5","function dlv(obj, key, def, p) {\n\tp = 0;\n\tkey = key.split ? key.split('.') : key;\n\twhile (obj && p<key.length) { obj = obj[key[p++]]; }\n\treturn obj===undefined ? def : obj;\n}\n\n/** Create an Event handler function that sets a given state property.\n *\t@param {Component} component\tThe component whose state should be updated\n *\t@param {string} key\t\t\t\tA dot-notated key path to update in the component's state\n *\t@param {string} eventPath\t\tA dot-notated key path to the value that should be retrieved from the Event or component\n *\t@returns {function} linkedStateHandler\n */\nfunction linkState(component, key, eventPath) {\n\tvar path = key.split('.'),\n\t\tcache = component.__lsc || (component.__lsc = {});\n\n\treturn cache[key+eventPath] || (cache[key+eventPath] = function(e) {\n\t\tvar t = e && e.target || this,\n\t\t\tstate = {},\n\t\t\tobj = state,\n\t\t\tv = typeof eventPath==='string' ? dlv(e, eventPath) : t.nodeName ? (t.type.match(/^che|rad/) ? t.checked : t.value) : e,\n\t\t\ti = 0;\n\t\tfor ( ; i<path.length-1; i++) {\n\t\t\tobj = obj[path[i]] || (obj[path[i]] = !i && component.state[path[i]] || {});\n\t\t}\n\t\tobj[path[i]] = v;\n\t\tcomponent.setState(state);\n\t});\n}\n\nexport default linkState;\n//# sourceMappingURL=linkstate.es.js.map\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/linkstate/dist/linkstate.es.js","import { h, Component, render } from 'preact';\r\nimport style from './style.css';\r\nimport { validateAccountForm, clearForms } from \"../../js/validate-account-form\";\r\nimport { LOGIN_PATH, REGISTER_PATH, RESET_PATH } from '../../../config';\r\nimport linkState from \"linkstate\";\r\nimport { route } from 'preact-router';\r\n\r\nexport default class AccountForm extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.routeToRegister = this.routeToRegister.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const formData = {\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n      new_password: this.state.new_password,\r\n      confirm_password: this.state.confirm_password,\r\n    }\r\n\r\n    const args = {\r\n      path: this.props.path,\r\n      formData,\r\n    }\r\n\r\n    validateAccountForm(args).then((response) => {\r\n      console.log('validateAccountForm(): ', response);\r\n      if (response.status) {\r\n        if (this.props.path === RESET_PATH) {\r\n          alert(response.message);\r\n        } else {  // redirect to /profile with success for login/registration\r\n          route(`/profile`, true);\r\n        }\r\n      } else {\r\n        // TODO - alert failure to process\r\n        alert(response.message);\r\n      }\r\n      }).catch(function (error) {\r\n        // TODO - standardize API error output so we can handle cleanly\r\n        // on frontend\r\n        alert(error);\r\n      });\r\n   };\r\n\r\n  componentWillUnmount = () => {\r\n    clearForms();\r\n  }\r\n\r\n  routeToRegister() {\r\n    route(\"/register\", true);\r\n  }\r\n\r\n  render({ path },{ name, email, password, new_password, confirm_password }) {\r\n\r\n    //DEFAULT TO LOGIN_PATH\r\n    let display =\r\n      <div class={style.display}>\r\n        <form class={style.form} onSubmit={this.handleSubmit}>\r\n          <input class={style.formChild} id=\"email\" name=\"email\" type=\"email\" placeholder='email address' \r\n            value={email} onInput={linkState(this, 'email')} required/>\r\n          <input class={style.formChild} id=\"password\" name=\"password\" type=\"password\" placeholder='password'\r\n            value={password} onInput={linkState(this, 'password')} required/>\r\n          <div>\r\n            <button class={style.formChild}>LOGIN</button>\r\n          </div>\r\n        </form>\r\n        <div class={style.form}>\r\n          <div class={style.strike}>\r\n            <span>OR</span>\r\n          </div>\r\n          <button type=\"button\" className={[style.formChild, style.regBtn].join(' ')}\r\n            onClick={this.routeToRegister}>CREATE AN ACCOUNT</button>\r\n        </div>\r\n        <p class={style.link2}><a href=\"/forgot-password\">forgot password?</a></p>\r\n      </div>;\r\n\r\n    if(path === REGISTER_PATH){\r\n      display =\r\n      <div class={style.display}>\r\n        <form class={style.form} onSubmit={this.handleSubmit}>\r\n          <input class={style.formChild} name=\"name\" type=\"text\" placeholder=\"Name\"\r\n            value={name} onInput={linkState(this, 'name')} required/>\r\n          <input class={style.formChild} id=\"email\" name=\"email\" type=\"email\" placeholder='email address' \r\n            value={email} onInput={linkState(this, 'email')} required/>\r\n          <input class={style.formChild} id=\"password\" name=\"password\" type=\"password\" placeholder='password'\r\n            value={password} onInput={linkState(this, 'password')} required/>\r\n          <input class={style.formChild} name=\"confirm_password\" type=\"password\" placeholder=\"confirm password\"\r\n            value={confirm_password} onInput={linkState(this, 'confirm_password')} required/>\r\n          <button class={style.formChild}>SUBMIT</button>\r\n        </form>\r\n      </div>;\r\n    }\r\n    \r\n    if(path === RESET_PATH){\r\n      display =\r\n      <div>\r\n        <form class={style.form} onSubmit={this.handleSubmit}>\r\n          <p>To change user info:</p>\r\n          <input class={style.formChildReset} name=\"name\" type=\"text\" placeholder=\"Enter new name\"\r\n            value={name} onInput={linkState(this, 'name')}/>\r\n          <input class={style.formChildReset} id=\"email\" name=\"email\" type=\"email\" placeholder='Enter new email address' \r\n            value={email} onInput={linkState(this, 'email')}/>\r\n          <button class={style.formChildReset}>Update Info</button>\r\n        </form>\r\n        <form class={style.form} onSubmit={this.handleSubmit}>\r\n          <p>To change password:</p>\r\n          <input class={style.formChildReset} id=\"password\" name=\"password\" type=\"password\" placeholder=\"Enter current password\"\r\n            value={password} onInput={linkState(this, 'password')} required/>\r\n          <input class={style.formChildReset} name=\"new_password\" type=\"password\" placeholder=\"Enter new password\"\r\n            value={new_password} onInput={linkState(this, 'new_password')} required/>\r\n          <input class={style.formChildReset} name=\"confirm_password\" type=\"password\" placeholder=\"Confirm new password\"\r\n            value={confirm_password} onInput={linkState(this, 'confirm_password')} required/>\r\n          <button class={style.formChildReset}>Reset Password</button>\r\n        </form>\r\n      </div>;\r\n    }\r\n      return (\r\n        <div class={style.inherit}>\r\n          <img class={style.logo} src='../../assets/icons/leaflet/SVG/darkLogo.svg' alt='Navi logo' />\r\n          {display}\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/AccountForm/index.js","import { h, Component } from 'preact';\r\nimport style from './style';\r\nimport AccountForm from \"../../components/AccountForm\";\r\n\r\n\r\nexport default class Settings extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div class={style.main}>\r\n              <div><a href=\"/reset-password\">Reset password</a></div>\r\n              <div><a href=\"/signout\">Sign Out</a></div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./routes/settings/index.js"],"sourceRoot":""}