webpackJsonp([3],{"5OH/":function(e,t,n){"use strict";function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return b});var a=n("KM04"),s=(n.n(a),n("ZAL5")),i=n.n(s),c=n("/QC5"),l=n("CJgR"),p=n("BmZj"),u=Object(a.h)("h2",null,"WELCOME TO"),h=Object(a.h)("img",{src:"../../assets/icons/leaflet/SVG/darkLogo.svg"}),d=Object(a.h)("p",null,"Where can we take you today?"),f=Object(a.h)(l.a,null,Object(a.h)(p.a,null)),b=function(e){function t(t){var n=o(this,e.call(this,t));return n.routeToMap=n.routeToMap.bind(n),n}return r(t,e),t.prototype.routeToMap=function(){Object(c.route)("/maps",!0)},t.prototype.render=function(){return Object(a.h)("div",{class:i.a.home},Object(a.h)("div",{class:i.a.welcome},u,h),Object(a.h)("div",{class:i.a.search},d,f),Object(a.h)("div",{class:i.a.myLocation},Object(a.h)("a",{href:"/maps",class:i.a.mapLink},"where am I?"),Object(a.h)("img",{src:"../../assets/icons/leaflet/SVG/FindLocationPin.svg",class:i.a.pin,onClick:this.routeToMap})))},t}(a.Component)},"7qVq":function(e){e.exports={list:"list__37Lkd",mainText:"mainText__1a7c-",secondaryText:"secondaryText__1BFqI"}},BmZj:function(e,t,n){"use strict";function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u});var a=n("KM04"),s=(n.n(a),n("7qVq")),i=n.n(s),c=n("dZBD"),l=n.n(c),p=n("Qpw7"),u=(n.n(p),function(e){function t(t){var n=o(this,e.call(this,t));return n.handleClick=n.handleClick.bind(n),n}return r(t,e),t.prototype.handleClick=function(e){var t=this;event.preventDefault(),l.a.post(p.API_SERVER+"/map/geocode",{input:e}).then(function(e){if(console.log(e),"OK"==e.data.status){t.props.onClicked(e.data.results[0])}else alert(e.data.status)})},t.prototype.render=function(){var e=this;return Object(a.h)("ul",null,this.props.predictions.map(function(t,n){return Object(a.h)("div",{key:n,onClick:function(){return e.handleClick(t)}},Object(a.h)("p",{class:i.a.mainText}," ",e.props.descSubfields[n].mainText," "),Object(a.h)("p",{class:i.a.secondaryText}," ",e.props.descSubfields[n].secondaryText," "))}))},t}(a.Component))},CJgR:function(e,t,n){"use strict";function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u});var a=n("KM04"),s=(n.n(a),n("rwox")),i=n.n(s),c=n("dZBD"),l=n.n(c),p=n("Qpw7"),u=(n.n(p),function(e){function t(t){var n=o(this,e.call(this,t));return n.state={value:"",predictions:[],placeIDs:[],descSubfields:[],marker:null,position:{}},n.handleChange=n.handleChange.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleSelectedPlace=n.handleSelectedPlace.bind(n),n}return r(t,e),t.prototype.handleChange=function(e){var t=this;this.setState({value:e.target.value}),l.a.post(p.API_SERVER+"/search/autocomplete",{input:this.state.value,lat:this.props.position.lat,lng:this.props.position.lng}).then(function(e){t.setState({predictions:e.data.predictions,placeIds:e.data.placeIds,descSubfields:e.data.descSubfields})})},t.prototype.handleSubmit=function(e){var t=this;e.preventDefault(),l.a.post(p.API_SERVER+"/search/textsearch",{input:this.state.value,lat:this.props.position.lat,lng:this.props.position.lng}).then(function(e){if("OK"==e.data.status){t.handleSelectedPlace(e.data.results[0])}else alert(e.data.status)})},t.prototype.handleSelectedPlace=function(e){this.props.map.setZoom(16),console.log(e),this.state.marker&&this.props.map.removeLayer(this.state.marker),this.setState({marker:L.marker(e.geometry.location).addTo(this.props.map),position:e.geometry.location}),this.state.marker.bindPopup("<b>"+(e.name||"")+" </b>"+e.formatted_address),this.props.map.setView(this.state.position,16)},t.prototype.render=function(){var e=this,t=this.props.children.map(function(t){return Object(a.cloneElement)(t,{predictions:e.state.predictions,descSubfields:e.state.descSubfields,onClicked:e.handleSelectedPlace})});return Object(a.h)("form",{class:i.a.form,onSubmit:this.handleSubmit},Object(a.h)("input",{type:"search",placeholder:"Search for a place or address",class:i.a.search,onInput:this.handleChange}),t)},t}(a.Component))},ZAL5:function(e){e.exports={home:"home__2Q5nZ",welcome:"welcome__15Dg9",search:"search__3Pj_q",mapLink:"mapLink__2_Wtp",pin:"pin__21DOX",myLocation:"myLocation__tCkLw"}},rwox:function(e){e.exports={form:"form__2b2-V",search:"search__1cyuN"}}});
//# sourceMappingURL=3.chunk.80232.js.map