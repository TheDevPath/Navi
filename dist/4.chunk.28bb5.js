webpackJsonp([4],{"5OH/":function(t,e,n){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return b});var a=n("KM04"),i=(n.n(a),n("ZAL5")),s=n.n(i),c=n("/QC5"),p=n("CJgR"),l=n("BmZj"),u=Object(a.h)("h2",null,"WELCOME TO"),h=Object(a.h)("img",{src:"../../assets/icons/leaflet/SVG/darkLogo.svg"}),f=Object(a.h)("p",null,"Where can we take you today?"),d=Object(a.h)(p.a,null,Object(a.h)(l.a,null)),b=function(t){function e(e){var n=o(this,t.call(this,e));return n.routeToMap=n.routeToMap.bind(n),n}return r(e,t),e.prototype.routeToMap=function(){Object(c.route)("/maps",!0)},e.prototype.render=function(){return Object(a.h)("div",{class:s.a.home},Object(a.h)("div",{class:s.a.welcome},u,h),Object(a.h)("div",{class:s.a.search},f,d),Object(a.h)("div",{class:s.a.myLocation},Object(a.h)("a",{href:"/maps",class:s.a.mapLink},"where am I?"),Object(a.h)("img",{src:"../../assets/icons/leaflet/SVG/FindLocationPin.svg",class:s.a.pin,onClick:this.routeToMap})))},e}(a.Component)},"7qVq":function(t){t.exports={list:"list__37Lkd"}},BmZj:function(t,e,n){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return l});var a=n("KM04"),i=(n.n(a),n("7qVq")),s=(n.n(i),n("dZBD")),c=n.n(s),p=n("Qpw7"),l=(n.n(p),function(t){function e(e){var n=o(this,t.call(this,e));return n.handleClick=n.handleClick.bind(n),n}return r(e,t),e.prototype.handleClick=function(t){var e=this;event.preventDefault(),c.a.post(p.API_SERVER+"/map/geocode",{input:t}).then(function(t){if(console.log(t),"OK"==t.data.status){e.props.onClicked(t.data.results[0])}else alert(t.data.status)})},e.prototype.render=function(){var t=this;return Object(a.h)("ul",null,this.props.predictions.map(function(e,n){return Object(a.h)("div",{key:n,onClick:function(){return t.handleClick(e)}},e)}))},e}(a.Component))},CJgR:function(t,e,n){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return u});var a=n("KM04"),i=(n.n(a),n("rwox")),s=n.n(i),c=n("dZBD"),p=n.n(c),l=n("Qpw7"),u=(n.n(l),function(t){function e(e){var n=o(this,t.call(this,e));return n.state={value:"",predictions:[],placeIDs:[],marker:null,position:{}},n.handleChange=n.handleChange.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleSelectedPlace=n.handleSelectedPlace.bind(n),n}return r(e,t),e.prototype.handleChange=function(t){var e=this;this.setState({value:t.target.value}),p.a.post(l.API_SERVER+"/search/autocomplete",{input:this.state.value,lat:this.props.position.lat,lng:this.props.position.lng}).then(function(t){e.setState({predictions:t.data.predictions,placeIds:t.data.placeIds})})},e.prototype.handleSubmit=function(t){var e=this;t.preventDefault(),p.a.post(l.API_SERVER+"/search/textsearch",{input:this.state.value,lat:this.props.position.lat,lng:this.props.position.lng}).then(function(t){if("OK"==t.data.status){e.handleSelectedPlace(t.data.results[0])}else alert(t.data.status)})},e.prototype.handleSelectedPlace=function(t){this.props.map.setZoom(16),console.log(t),this.state.marker&&this.props.map.removeLayer(this.state.marker),this.setState({marker:L.marker(t.geometry.location).addTo(this.props.map),position:t.geometry.location}),this.state.marker.bindPopup("<b>"+(t.name||"")+" </b>"+t.formatted_address),this.props.map.setView(this.state.position,16)},e.prototype.render=function(){var t=this,e=this.props.children.map(function(e){return Object(a.cloneElement)(e,{predictions:t.state.predictions,onClicked:t.handleSelectedPlace})});return Object(a.h)("form",{class:s.a.form,onSubmit:this.handleSubmit},Object(a.h)("input",{type:"search",placeholder:"Search for a place or address",class:s.a.search,onInput:this.handleChange}),e)},e}(a.Component))},ZAL5:function(t){t.exports={home:"home__2Q5nZ",welcome:"welcome__15Dg9",search:"search__3Pj_q",mapLink:"mapLink__2_Wtp",pin:"pin__21DOX",myLocation:"myLocation__tCkLw"}},rwox:function(t){t.exports={form:"form__2b2-V",search:"search__1cyuN"}}});
//# sourceMappingURL=4.chunk.28bb5.js.map